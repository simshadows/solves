name: cnf-sat
appTitle: CNF-SAT Solver (with dummy output for debugging)
author: simshadows
description: your description here

input-base:
  variable:
    title: Variables
    params: 1
    initialValues:
      - x
      - y
  clausename:
    title: Clause Names
    params: 1
    initialValues:
      - a
      - b

input-integer: {}

input-constrained:
  clause:
    title: Clauses
    params: 3
    initialValues:
      - a,x,pos
      - b,y,neg

output:
  assignT:
    title: Assignment
    fieldLabels:
      - Variable
      - Dummy1
      - Dummy2

constraints: |
  sign(pos).
  sign(neg).

  domainok(clause(C,V,S)) :- base(clausename,C), base(variable,V), sign(S).
  domainok(clause(C,V,S)) :- base(clausename,C), base(variable,V), sign(S).

encoding: |
  { assignT(V,dummy1,dummy2) } :- base(variable,V).
  satisfied(C) :- instance(clause(C,V,pos)), assignT(V,dummy1,dummy2).
  satisfied(C) :- instance(clause(C,V,neg)), not assignT(V,dummy1,dummy2).
  :- base(clausename,C), not satisfied(C).

  solution(assignT(V,dummy1,dummy2)) :- assignT(V,dummy1,dummy2).

